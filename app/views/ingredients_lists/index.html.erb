<div class="shopping-page">
  <div class="shopping-card">
    <h1>Liste de courses</h1>

    <% if @lists.present? %>
      <table>
        <thead>
          <tr>
            <th>Ingrédient</th>
            <th>Quantité</th>
            <th>Prix / unité</th>
            <th>Acheté ?</th>
          </tr>
        </thead>
        <tbody>
          <% total_price = 0 %>
          <% @lists.each do |recap| %>
            <% recap.recipe.recipe_ingredients.each do |ri| %>
              <tr>
                <td><%= ri.ingredient.name %></td>
                <td><%= ri.quantity %></td>
                <td><%= number_to_currency(ri.ingredient.price_per_unit, unit: "€", separator: ",") %></td>
                <td class="text-center">
                  <input type="checkbox"
                         class="round-check ingredient-checkbox"
                         data-id="<%= ri.ingredient.id %>"
                         <%= "checked" if false %> >
                </td>
              </tr>
            <% end %>
          <% end %>
        </tbody>
      </table>

      <div class="shopping-total">
        <span class="label">TOTAL :</span>
        <span class="value"><%= number_to_currency(total_price, unit: "€", separator: ",") %></span>
      </div>
    <% else %>
      <div class="alert alert-info">
        Aucune recette trouvée dans votre récap.
      </div>
    <% end %>
  </div>
</div>
